# 预测王 - 赛事预测小程序


## 项目概述

"预测王"是一款基于微信小程序平台的赛事预测应用，用户可以对各类比赛结果进行预测投票，系统会根据预测准确率生成排行榜。用户可以查看自己与其他用户的预测准确率排名，增强用户参与感和竞争性。

## 主要功能

- **赛事预测**：用户可以对即将进行的比赛进行结果预测
- **实时排行榜**：根据预测准确率、正确次数和参与次数生成用户排行榜
- **数据统计**：统计用户的预测准确率、总参与次数和正确预测次数
- **用户档案**：记录用户参与的所有预测及结果
- **云端同步**：使用云开发存储用户数据，支持多设备同步
- **结果通知**：比赛结束后通知用户预测结果

## 技术栈

- **前端**：微信小程序原生开发框架（WXML、WXSS、JavaScript）
- **后端**：微信云开发（CloudBase）
- **数据库**：云开发数据库
- **存储**：云开发存储
- **云函数**：使用Node.js开发

## 项目结构

```
miniprogram-2/
├── cloudfunctions/                 # 云函数目录
│   ├── compressImages/            # 图片压缩云函数
│   ├── getAllVotes/               # 获取投票数据云函数
│   ├── getUserProfiles/           # 获取用户资料云函数
│   └── ...                        # 其他云函数
├── miniprogram/                    # 小程序本地代码
│   ├── components/                 # 自定义组件
│   ├── images/                     # 图片资源
│   ├── pages/                      # 页面文件
│   │   ├── index/                  # 首页
│   │   ├── match-detail/           # 比赛详情
│   │   ├── match-edit/             # 比赛编辑
│   │   ├── ranking/                # 排行榜页面
│   │   └── ...                     # 其他页面
│   ├── utils/                      # 工具函数
│   ├── app.js                      # 小程序入口文件
│   ├── app.json                    # 小程序全局配置
│   └── app.wxss                    # 小程序全局样式
└── project.config.json             # 项目配置文件
```

## 核心功能展示

### 排行榜

排行榜页面展示所有用户的预测准确率排名，包含以下特点：

- TOP 3用户特殊展示，带有皇冠和奖牌效果
- 显示用户头像、昵称、准确率和战绩
- 根据预测准确率、正确次数和总参与次数进行排名
- 支持下拉刷新，实时更新排行数据
- 缓存机制，优化加载速度

### 赛事预测

用户可以在比赛开始前进行结果预测：

- 支持多种比赛类型
- 提供队伍基本信息和历史数据参考
- 简单的投票界面，一键完成预测
- 预测截止时间自动控制

### 数据统计

详细记录用户的预测历史：

- 预测准确率统计
- 参与比赛数量统计
- 预测成功次数统计
- 用户排名变化趋势

## 安装与使用

### 环境要求

- 微信开发者工具 稳定版 1.06.2305160 或更高版本
- 微信云开发环境
- Node.js 12.0 或更高版本 (用于云函数)

### 安装步骤

1. 克隆代码库
   ```bash
   git clone [项目Git地址]
   ```

2. 使用微信开发者工具打开项目

3. 创建云开发环境并修改配置
   - 在微信开发者工具中创建云开发环境
   - 复制环境ID，修改`app.js`中的`env`配置

4. 部署云函数
   - 在开发者工具中，依次部署`cloudfunctions`目录下的所有云函数

5. 创建数据库集合
   需要创建以下集合：
   - matches (比赛信息)
   - votes (用户投票)
   - users (用户信息)

6. 设置数据库权限
   建议设置为"所有用户可读，仅创建者可写"

### 本地开发

1. 进入项目目录
   ```bash
   cd miniprogram-2
   ```

2. 本地调试云函数
   ```bash
   # 安装依赖
   cd cloudfunctions/[云函数名称]
   npm install
   ```

3. 使用微信开发者工具进行调试

## 性能优化

- 实现数据缓存机制，减少网络请求
- 分批获取数据，处理大量数据情况
- 图片懒加载和体积优化
- 云函数优化，支持增量更新

## 项目贡献

欢迎提交问题和改进建议。如果您想要贡献代码：

1. Fork 项目
2. 创建新的功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交您的更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 创建一个Pull Request

## 版本历史

- v1.0.0 (2023-04-17): 首个正式版本
  - 基本投票功能
  - 排行榜功能
  - 用户信息同步

## 未来计划

- [ ] 添加更多比赛类型支持
- [ ] 引入积分奖励机制
- [ ] 开发社交分享功能
- [ ] 增加数据分析和可视化图表
- [ ] 优化移动端性能

## 许可证

本项目采用 MIT 许可证 - 详情请查看 [LICENSE](LICENSE) 文件

## 联系方式

有任何问题或建议，请通过以下方式联系我们：

- 项目负责人：[您的姓名]
- 电子邮件：[您的邮箱]
- 微信公众号：[您的公众号]

---

<p align="center">Copyright © 2023 预测王团队. All Rights Reserved.</p>
